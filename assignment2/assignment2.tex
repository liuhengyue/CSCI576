\documentclass[10pt]{report}            % Report class in 11 points
\usepackage{mathtools}
\usepackage{amssymb,amsmath}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{color}
%\oddsidemargin 5pt
\parindent0pt  \parskip10pt             % make block paragraphs
\raggedright                            % do not right-justify
\title{\bf CSCI576 Assignment 2 Report}  % Supply information

\author{Hengyue Liu\\USC ID: 4107-2966-75}              %   for the title page.
\date{\today}                           %   Use current date.

\begin{document}                        % End of preamble, start of text.
\maketitle                              % Print title page.
\pagenumbering{roman}                   % roman page number for toc
\setcounter{page}{2}                    % make it start with "ii"
%\tableofcontents                        % Print table of contents
\renewcommand{\chaptername}{Part}
%\renewcommand{\thechapter}{\Alph{chapter}}
\chapter{Written Questions}                % Print a "chapter" heading
\pagenumbering{arabic}                  % Start text with arabic 1
\lstset{language=Matlab,%
	%basicstyle=\color{red},
	breaklines=true,%
	morekeywords={matlab2tikz},
	keywordstyle=\color{blue},%
	morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
	identifierstyle=\color{black},%
	stringstyle=\color[RGB]{170,55,241},
	commentstyle=\color[RGB]{28,172,0},%
	showstringspaces=false,%without this there will be a symbol in the places where there is a space
	numbers=left,%
	numberstyle={\tiny \color{black}},% size of the numbers
	numbersep=9pt, % this defines how far the numbers are from the text
	emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
	%emph=[2]{word1,word2}, emphstyle=[2]{style},    
}
 
\section*{Q 1}                  % Print a "section" heading
\par Proof:

The chromaticity coordinates $(x_c,y_c)$ are computed by the projective transformation:
$x_c=\frac{X}{X+Y+Z}, y_c=\frac{Y}{X+Y+Z}$,\\
then $\frac{1-x_c-y_c}{y_c}\cdot Y=\frac{Z}{(X+Y+Z)\cdot y_c}\cdot Y=\frac{Z}{Y}\cdot Y=Z$.                      
  

 \section*{Q 2}                  % Print a "section" heading
 Solutions:
 \begin{itemize}
 	\item
 	Normalized chromaticity coordinates:\\
 	$P_1(x_1, y_1)=(\frac{X_1}{X_1+Y_1+Z_1},\frac{Y_1}{X_1+Y_1+Z_1})$,$P_2(x_2, y_2)=(\frac{X_2}{X_2+Y_2+Z_2},\frac{Y_2}{X_2+Y_2+Z_2})$,$P_3(x_3, y_3)=(\frac{X_3}{X_3+Y_3+Z_3},\frac{Y_3}{X_3+Y_3+Z_3})$.\\
 	\item
 	Color C XYZ coordinates are: $X=\alpha_1 X_1+\alpha_2 X_2+\alpha_3 X_3, Y=\alpha_1 Y_1+\alpha_2 Y_2+\alpha_3 Y_3, Z=\alpha_1 Z_1+\alpha_2 Z_2+\alpha_3 Z_3$.\\
 	Then, the chromaticity coordinates are: $(\frac{X}{X+Y+Z},\frac{Y}{X+Y+Z})=(\frac{\alpha_1 X_1+\alpha_2 X_2+\alpha_3 X_3}{\alpha_1 X_1+\alpha_2 X_2+\alpha_3 X_3+\alpha_1 Y_1+\alpha_2 Y_2+\alpha_3 Y_3+\alpha_1 Z_1+\alpha_2 Z_2+\alpha_3 Z_3},\frac{\alpha_1 Y_1+\alpha_2 Y_2+\alpha_3 Y_3}{\alpha_1 X_1+\alpha_2 X_2+\alpha_3 X_3+\alpha_1 Y_1+\alpha_2 Y_2+\alpha_3 Y_3+\alpha_1 Z_1+\alpha_2 Z_2+\alpha_3 Z_3})=(\frac{\alpha_1(X_1+Y_1+Z_1)x_1+\alpha_2(X_2+Y_2+Z_2)x_2+\alpha_3(X_3+Y_3+Z_3)x_3}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)},\frac{\alpha_1(X_1+Y_1+Z_1)y_1+\alpha_2(X_2+Y_2+Z_2)y_2+\alpha_3(X_3+Y_3+Z_3)y_3}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)})$.
 	\item
 	Based on above deduction,\\
 	Chromaticity coordinates of Color C  $(\frac{X}{X+Y+Z},\frac{Y}{X+Y+Z})=(\frac{\alpha_1(X_1+Y_1+Z_1)x_1+\alpha_2(X_2+Y_2+Z_2)x_2+\alpha_3(X_3+Y_3+Z_3)x_3}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)},\frac{\alpha_1(X_1+Y_1+Z_1)y_1+\alpha_2(X_2+Y_2+Z_2)y_2+\alpha_3(X_3+Y_3+Z_3)y_3}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)})=(\frac{\alpha_1(X_1+Y_1+Z_1)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}x_1+\frac{\alpha_2(X_2+Y_2+Z_2)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}x_2+\frac{\alpha_3(X_3+Y_3+Z_3)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}x_3,\frac{\alpha_1(X_1+Y_1+Z_1)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}y_1+\frac{\alpha_2(X_2+Y_2+Z_2)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}y_2+\frac{\alpha_3(X_3+Y_3+Z_3)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}y_3)=\frac{\alpha_1(X_1+Y_1+Z_1)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}(x_1,y_1)+\frac{\alpha_2(X_2+Y_2+Z_2)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}(x_2,y_2)+\frac{\alpha_3(X_3+Y_3+Z_3)}{\alpha_1(X_1+Y_1+Z_1)+\alpha_2(X_2+Y_2+Z_2)+\alpha_3(X_3+Y_3+Z_3)}(x_3,y_3)=\alpha_1'(x_1,y_1)+\alpha_2'(x_2,y_2)+\alpha_3'(x_3,y_3)$.\\
 	Thus, the chromaticity coordinates of any color C can be represented as a linear combination of the chromaticity coordinates of the respective primaries.
 \end{itemize}
  \section*{Q 3}                  % Print a "section" heading
  Solutions:
  \begin{itemize}
  	\item
  	\par $H=-(P(X)\log_2 P(X)+P(Y)\log_2 P(Y))=-[x^2\log_2 x^2+(1-x^2)\log_2(1-x^2)]$
  	\par Matlab codes to plot the function:
	\begin{lstlisting}
h=inline('-(x.^2.*log2(x.^2)+(1-x.^2).*log2(1-x.^2))');
x=-1:0.01:1;
y=h(x);
plot(x,y);title('problem 3 entropy function H of x');xlabel('x');ylabel('entropy H');
	\end{lstlisting}
	\par Below is the function plot:
	\newpage
	\begin{figure}[h!]
		\centering
		\includegraphics[width=0.8\textwidth]{q3_1}
		\caption{Entropy function H of x}
	\end{figure}
	\item
	When x equals to -1, 0 or 1, the entropy becomes a minimum value equal to 0. In other words, if only one kind of symbol is transmitted in the system, the entropy is zero. Since x should not be -1, 0 or 1, x can be very closed to these values to get a very small entropy.
	\item
	\par Since the smallest entropy is 0, then let $H=-[x^2\log_2 x^2+(1-x^2)\log_2(1-x^2)]=0$, solutions are $x=-1, 0, 1$.
	\item
	\par Compute the derivative of H in terms of x:
	\par $\frac{\partial H}{\partial x}=-(2x\log_2 x^2+x^2 \frac{2x}{x^2\ln 2}-2x\log_2 (1-x^2)+(1-x^2)\frac{-2x}{(1-x^2)\ln 2})=2x[\log_2(1-x^2)-\log_2 x^2]=2x\log_2(\frac{1}{x^2}-1)$
	\par Let $\frac{\partial H}{\partial x}=0$, solutions are $x=0,\pm \frac{1}{\sqrt{2}}$.
	\par Take these values back to H function, and $x=\pm \frac{1}{\sqrt{2}}$ give the maximum entropy 1.
  \end{itemize}
\iffalse  
\chapter*{Programming Analysis Questions}
  \section*{Q 1}
  The distortion curve is generated by the average error percentage for each pixel compared to the original image.
  \begin{itemize}
  
  \item
  Distortion cure with Y varying, set U and V to 1:\\
  -0.176407  inf -0.150256
  -0.165809  inf -0.133801
  -0.173324  inf -0.0869003
  -0.179565  inf -0.00607022
  %\includegraphics[height=200pt]{1.jpg}
  \item
  Distortion cure with U varying, set Y and V to 1:
  %\includegraphics[height=200pt]{2.jpg}
  \item
  Distortion cure with V varying, set U and Y to 1:
  %\includegraphics[height=200pt]{3.jpg}
\end{itemize}
	The pattern is that the error rate increases fast, then slow down up to a limit.\\
	First, the average error rates for these three settings are increasing with the sub-sampling factor increasing. Another observation is that Y value is much important compared to the other two values since the error rate increases much faster.\\
  \section*{Q 2}
     The main idea is to subsample differently. For example, instead of sampling with a constant sample interval, for particular image, the histogram is different and the distribution of the texture is  way more different. So, with some calculations like gradient, smaller sample interval is applied to complex part of the image.\\
     Another easier way is to increase the total bits for the image.\\
     Some output results are as followed:\\
     %\includegraphics[height=150pt]{4.jpg}
     optimized one with Y=4\\
      %\includegraphics[height=150pt]{5.jpg}
      original image with Y=4.
     \fi
\end{document}                          % The required last line
